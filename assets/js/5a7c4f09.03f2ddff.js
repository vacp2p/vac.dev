"use strict";(self.webpackChunkvac_dev=self.webpackChunkvac_dev||[]).push([[5417],{33861:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const o={layout:"post",name:"Vac - A Rough Overview",title:"Vac - A Rough Overview",date:new Date("2019-08-02T12:00:00.000Z"),authors:"oskarth",published:!0,slug:"vac-overview",categories:"research"},i=void 0,s={permalink:"/rlog/vac-overview",source:"@site/rlog/2019-08-02-vac-overview.mdx",title:"Vac - A Rough Overview",description:"Vac is a modular peer-to-peer messaging stack, with a focus on secure messaging. Overview of terms, stack and open problems.",date:"2019-08-02T12:00:00.000Z",formattedDate:"August 2, 2019",tags:[],readingTime:5.535,hasTruncateMarker:!0,authors:[{name:"Oskar",twitter:"oskarth",github:"oskarth",key:"oskarth"}],frontMatter:{layout:"post",name:"Vac - A Rough Overview",title:"Vac - A Rough Overview",date:"2019-08-02T12:00:00.000Z",authors:"oskarth",published:!0,slug:"vac-overview",categories:"research"},prevItem:{title:"P2P Data Sync with a Remote Log",permalink:"/rlog/remote-log"},nextItem:{title:"P2P Data Sync for Mobile",permalink:"/rlog/p2p-data-sync-for-mobile"}},l={authorsImageUrls:[void 0]},p=[{value:"Basic terms",id:"basic-terms",level:2},{value:"Protocol stack",id:"protocol-stack",level:2},{value:"Problems and rough priorities",id:"problems-and-rough-priorities",level:2}],c={toc:p};function m(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Vac is a modular peer-to-peer messaging stack, with a focus on secure messaging. Overview of terms, stack and open problems."),(0,n.kt)("p",null,"Vac is a ",(0,n.kt)("strong",{parentName:"p"},"modular peer-to-peer messaging stack, with a focus on secure messaging"),". What does that mean? Let's unpack it a bit."),(0,n.kt)("h2",{id:"basic-terms"},"Basic terms"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"messaging stack"),". While the initial focus is on ",(0,n.kt)("a",{parentName:"p",href:"https://vac.dev/p2p-data-sync-for-mobile"},"data sync"),", we are concerned with all layers in the stack. That means all the way from underlying transports, p2p overlays and routing, to initial trust establishment and semantics for things like group chat. The ultimate goal is to give application developers the tools they need to provide secure messaging for their users, so they can focus on their domain expertise."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"modular"),". Unlike many other secure messaging applications, our goal is not to have a tightly coupled set of protocols, nor is it to reinvent the wheel. Instead, we aim to provide options at each layer in the stack, and build on the shoulders of giants, putting a premimum on interoperability. It's similar in philosophy to projects such as ",(0,n.kt)("a",{parentName:"p",href:"https://libp2p.io/"},"libp2p")," or ",(0,n.kt)("a",{parentName:"p",href:"https://www.parity.io/substrate/"},"Substrate")," in that regard. Each choice comes with different trade-offs, and these look different for different applications."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"peer-to-peer"),". The protocols we work on are pure p2p, and aim to minimize centralization. This too is in opposition to many initiatives in the secure messaging space."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"messaging"),". By messaging we mean messaging in a generalized sense. This includes both human to human communication, as well machine to machine communication. By messaging we also mean something more fundamental than text messages, we also include things like transactions (state channels, etc) under this moniker."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"secure messaging"),". Outside of traditional notions of secure messaging, such as ensuring end to end encryption, forward secrecy, avoiding MITM-attacks, etc, we are also concerned with two other forms of secure messaging. We call these ",(0,n.kt)("em",{parentName:"p"},"private messaging")," and ",(0,n.kt)("em",{parentName:"p"},"censorship-resistance"),". Private messaging means viewing privacy as a security property, with all that entails. Censorship resistance ties into being p2p, but also in terms of allowing for transports and overlays that can't easily be censored by port blocking, traffic analysis, and similar."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"V\u0101c"),". Is a Vedic goddess of speech. It also hints at being a vaccine."),(0,n.kt)("h2",{id:"protocol-stack"},"Protocol stack"),(0,n.kt)("p",null,"What does this stack look like? We take inspiration from ",(0,n.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc793"},"core")," ",(0,n.kt)("a",{parentName:"p",href:"https://www.ietf.org/rfc/rfc1122.txt"},"internet architecture"),", existing ",(0,n.kt)("a",{parentName:"p",href:"https://css.csail.mit.edu/6.858/2020/readings/secure-messaging.pdf"},"survey work")," and other ",(0,n.kt)("a",{parentName:"p",href:"https://code.briarproject.org/briar/briar/wikis/A-Quick-Overview-of-the-Protocol-Stack"},"efforts")," that have been done to decompose the problem into orthogonal pieces. Each layer provides their own set of properties and only interact with the layers it is adjacent to. Note that this is a rough sketch."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Layer / Protocol"),(0,n.kt)("th",{parentName:"tr",align:null},"Purpose"),(0,n.kt)("th",{parentName:"tr",align:null},"Examples"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Application layer"),(0,n.kt)("td",{parentName:"tr",align:null},"End user semantics"),(0,n.kt)("td",{parentName:"tr",align:null},"1:1 chat, group chat")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Data Sync"),(0,n.kt)("td",{parentName:"tr",align:null},"Data consistency"),(0,n.kt)("td",{parentName:"tr",align:null},"MVDS, BSP")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Secure Transport"),(0,n.kt)("td",{parentName:"tr",align:null},"Confidentiality, PFS, etc"),(0,n.kt)("td",{parentName:"tr",align:null},"Double Ratchet, MLS")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Transport Privacy"),(0,n.kt)("td",{parentName:"tr",align:null},"Transport and metadata protection"),(0,n.kt)("td",{parentName:"tr",align:null},"Whisper, Tor, Mixnet")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"P2P Overlay"),(0,n.kt)("td",{parentName:"tr",align:null},"Overlay routing, NAT traversal"),(0,n.kt)("td",{parentName:"tr",align:null},"devp2p, libp2p")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Trust Establishment"),(0,n.kt)("td",{parentName:"tr",align:null},"Establishing end-to-end trust"),(0,n.kt)("td",{parentName:"tr",align:null},"TOFU, web of trust")))),(0,n.kt)("p",null,"As an example, end user semantics such as group chat or moderation capabilities can largely work regardless of specific choices further down the stack. Similarly, using a mesh network or Tor doesn't impact the use of Double Ratchet at the Secure Transport layer."),(0,n.kt)("p",null,"Data Sync plays a similar role to what TCP does at the transport layer in a traditional Internet architecture, and for some applications something more like UDP is likely to be desirable."),(0,n.kt)("p",null,"In terms of specific properties and trade-offs at each layer, we'll go deeper down into them as we study them. For now, this is best treated as a rough sketch or mental map."),(0,n.kt)("h2",{id:"problems-and-rough-priorities"},"Problems and rough priorities"),(0,n.kt)("p",null,"With all the pieces involved, this is quite an undertaking. Luckily, a lot of pieces are already in place and can be either incorporated as-is or iterated on. In terms of medium and long term, here's a rough sketch of priorities and open problems."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Better data sync.")," While the current ",(0,n.kt)("a",{parentName:"li",href:"https://rfc.vac.dev/vac/2/mvds/"},"MVDS")," works, it is lacking in a few areas:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Lack of remote log for mostly-offline offline devices"),(0,n.kt)("li",{parentName:"ul"},"Better scalability for multi-user chat contexts"),(0,n.kt)("li",{parentName:"ul"},"Better usability in terms of application layer usage and supporting more transports")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Better transport layer support.")," Currently MVDS runs primarily over Whisper, which has a few issues:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"scalability, being able to run with many nodes"),(0,n.kt)("li",{parentName:"ul"},"spam-resistance, proof of work is a poor mechanism for heterogeneous devices"),(0,n.kt)("li",{parentName:"ul"},"no incentivized infrastructure, leading to centralized choke points")),(0,n.kt)("p",null,"In addition to these most immediate concerns, there are other open problems. Some of these are overlapping with the above."),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Adaptive nodes.")," Better support for resource restricted devices and nodes of varying capabilities. Light connection strategy for resources and guarantees. Security games to outsource processing with guarantees.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Incentivized and spam-resistant messaging.")," Reasons to run infrastructure and not relying on altruistic nodes. For spam resistance, in p2p multicast spam is a big attack vector due to amplification. There are a few interesting directions here, such as EigenTrust, proof of burn with micropayments, and leveraging zero-knowledge proofs.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Strong privacy guarantees at transport privacy layer"),". More rigorous privacy guarantees and explicit trade-offs for metadata protection. Includes Mixnet.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Censorship-resistant and robust P2P overlay"),". NAT traversal; running in the browser; mesh networks; pluggable transports for traffic obfuscation.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Scalable and decentralized secure conversational security.")," Strong security guarantees such as forward secrecy, post compromise security, for large group chats. Includes projects such MLS and extending Double Ratchet.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Better trust establishment and key handling"),". Avoiding MITM attacks while still enabling a good user experience. Protecting against ghost users in group chat and providing better ways to do key handling."))),(0,n.kt)("p",null,"There is also a set of more general problems, that touch multiple layers:"),(0,n.kt)("ol",{start:9},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Ensuring modularity and interoperability"),". Providing interfaces that allow for existing and new protocols to be at each layer of the stack.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Better specifications"),". Machine-readable and formally verified specifications. More rigorous analysis of exact guarantees and behaviors. Exposing work in such a way that it can be analyzed by academics.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Better simulations"),". Providing infrastructure and tooling to be able to test protocols in adverse environments and at scale.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Enabling excellent user experience"),". A big reason for the lack of widespread adoption of secure messaging is the fact that more centralized, insecure methods provide a better user experience. Given that incentives can align better for users interested in secure messaging, providing an even better user experience should be doable."))),(0,n.kt)("hr",null),(0,n.kt)("p",null,"We got some work to do. Come help us if you want. See you in the next update!"))}m.isMDXComponent=!0},3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),p=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(a),d=n,h=u["".concat(l,".").concat(d)]||u[d]||m[d]||o;return a?r.createElement(h,i(i({ref:t},c),{},{components:a})):r.createElement(h,i({ref:t},c))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);